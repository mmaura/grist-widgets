<!doctype html>
<html lang="en" style="width: 100%; height: 100%">
  <head>
    <meta charset="utf-8" />
    <title>Note de service</title>
    <script src="https://igrist.sdis66.fr/grist-plugin-api.js"></script>
    <!-- <link href="ndsrh.css" rel="stylesheet" /> -->
    <script type="module" src="/src/main.ts"></script>
  </head>
  <body style="width: 99%; height: 99%">
    <iframe id="pdf" style="width: 100%; height: 100%"></iframe>
    <div>
      <button id="uploadButton">Intégrer le PDF</button>
    </div>
    <script>
      // Événements
      document.getElementById('uploadButton').addEventListener('click', () => {
        // savePdfToGrist(blob, data, 'fichier_pdf')
        const event = new CustomEvent('pdf-upload-file')
        // Émettre l'événement sur l'objet window pour qu'il soit facilement capté
        window.dispatchEvent(event)
      })
    </script>
  </body>
</html>
